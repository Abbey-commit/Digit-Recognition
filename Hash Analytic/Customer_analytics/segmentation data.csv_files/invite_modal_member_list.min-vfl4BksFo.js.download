define(["require","exports","tslib","react","modules/core/i18n","modules/clean/analytics","modules/clean/static_urls","modules/clean/react/image","modules/clean/teams/constants","modules/clean/teams/modals/team_admin_roles_modal","modules/clean/teams/admin/widgets/admin_permissions_modal/admin_permissions_modal","modules/clean/teams/admin/widgets/invite_modal/invite_modal_first_task/constants","modules/clean/teams/admin/widgets/invite_modal/invite_modal_first_task/invite_modal_member_row","modules/clean/teams/admin/widgets/invite_modal/invite_modal_first_task/invite_modal_member_data","classnames"],(function(e,a,i,s,n,m,t,o,l,d,r,_,c,u,g){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.InviteModalMemberList=void 0,s=i.__importDefault(s),g=i.__importDefault(g),a.InviteModalMemberList=function(e){var a=e.baseClass,b=e.currentUserId,p=e.teamId,f=e.teamName,v=e.tieredAdmin,A=e.teamAvailableRoles,M=e.memberList,O=e.memberActionsData,N=e.loggingExtras,R=e.handleOnClose,C=e.isMobileWeb;return s.default.createElement("div",{className:g.default(a+"__members")},s.default.createElement("div",{className:a+"__members-header"},s.default.createElement(o.Image,{src:t.static_url("/static/images/growth/team-vflxkrqB-.svg"),className:a+"__members-image"}),n.intl.formatMessage({id:"pbHfjm",defaultMessage:"Members of {team}"},{team:f})),s.default.createElement("div",{className:a+"__members-list"},M.map((function(e,a){var n=O&&O[e.user_id],t=u.isAdminRole(e.admin_role)?_.AdminOption.id:_.MemberOption.id,o=b===e.user_id,g=o?void 0:[_.MemberOption,_.AdminOption];return s.default.createElement(c.MemberRow,{key:a,id:"member-row-"+a,member:e,actionsData:n,handleOnClose:R,onRoleSelection:function(a){if(a!==t||v&&a===_.AdminOption.id){R();var s=a===_.AdminOption.id?"granted":"revoked",o=i.__assign(i.__assign({},N),{user_id:e.user_id});m.TeamsWebActionsLogger.log(s+"_admin_permissions_open",i.__assign({},o));var c=function(){m.TeamsWebActionsLogger.log(s+"_admin_permissions_cancel",i.__assign({},o))};v?d.showTeamAdminRolesModal({userId:e.user_id,displayName:e.display_name,isAdmin:u.isAdminRole(e.admin_role),origAdminRole:null!=e.admin_role?e.admin_role:l.ADMIN_ROLE.NONE,teamAvailableRoles:A,success:function(a){if(m.TeamsWebActionsLogger.log(s+"_admin_permissions",i.__assign({},o)),n&&n.roleUpdateCallback){var t=JSON.parse(a)[e.user_id].admin_role;n.roleUpdateCallback(t)}},onRequestClose:n&&n.onClose,onSecondaryAction:c}):r.DeprecatedShowLegacyAdminPermissionsModal({userId:e.user_id,displayName:e.display_name,enablePermissions:"option-admin"===a,limited:!1,team_id:p,onPrimaryAction:function(){if(m.TeamsWebActionsLogger.log(s+"_admin_permissions",i.__assign({},o)),n&&n.roleUpdateCallback){var e="option-admin"===a?l.ADMIN_ROLE.SUPER:l.ADMIN_ROLE.NONE;n.roleUpdateCallback(e)}},onRequestClose:n&&n.onClose,onSecondaryAction:c})}},roleOptions:g,tieredAdmin:v,isCurrentUser:o,isMobileWeb:C})})),1===M.length&&s.default.createElement(c.MemberRow,{id:"empty-row",handleOnClose:R})))}}));
//# sourceMappingURL=invite_modal_member_list.min.js-vflBo7SoH.map