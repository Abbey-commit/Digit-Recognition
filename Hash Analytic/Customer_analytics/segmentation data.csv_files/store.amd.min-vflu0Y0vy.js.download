define(["require","exports","tslib","tslib","lodash","redux","rondo/behavior/index","rondo/middleware_registry/index","rondo/reducers/reducer"],(function(e,r,i,t,d,o,a,s,c){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createStore=r.registerBehavior=r.createStoreWithBehavior=r.isExtendedStore=void 0,d=i.__importStar(d),r.isExtendedStore=function(e){return!!e.reducer},r.createStoreWithBehavior=function(e,r,i){var n;void 0===r&&(r=[]);var u=e.slice,v=e.createReducer(),l=v(void 0,a.createActionMerge()),h=u?d.merge(((n={})[u]=l,n),i):d.merge(l,i),S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({shouldHotReload:!1}):o.compose,_=s.createMiddlewareRegistry();e.middlewares(_);var g=S.apply(void 0,t.__spread([o.applyMiddleware(_)],r)),p=c.createReducer();e.addUnsubscribers(p.addReducer(u,v,!1));var w=o.createStore(p,h,g);w.reducer=p;var R=w.getState;return w.getState=function(){return void 0!==this.reducer.whileDispatchState?this.reducer.whileDispatchState:R()}.bind(w),e.postStoreCreation(w,_),w.middlewareRegistry=_,e.register(),w},r.registerBehavior=function(e,r,i){void 0===i&&(i={});var t=r.slice,d=r.createReducer(),o=i.initBehavior,s=void 0===o||o,c=i.replaceExistingReducer,n=void 0===c||c,u=i.refresh,v=void 0!==u&&u;(!r.isRegistered||n||v)&&r.addUnsubscribers(e.reducer.addReducer(t,d,n)),s&&e.dispatch(a.createActionInitBehavior(r.id)),e.middlewareRegistry&&(r.middlewares(e.middlewareRegistry),r.postStoreCreation(e,e.middlewareRegistry)),r.register()},r.createStore=function(e,i,t,d){return i?(r.registerBehavior(i,e,d),i):r.createStoreWithBehavior(e,[],t)}}));
//# sourceMappingURL=store.amd.min.js-vfl5ABea2.map