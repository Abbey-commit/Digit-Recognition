define(["require","exports","tslib","react","classnames","modules/core/i18n","modules/clean/rondo/forms/index","spectrum/icon_inline/index","modules/clean/rondo/components/members_picker/index","spectrum/tertiary_link/index","spectrum/tooltip/index","modules/clean/teams/admin/pages/activity/filters/types","modules/clean/teams/admin/pages/activity/components/activities_picker","rondo-react/index","modules/clean/teams/admin/pages/activity/filters/filters_behavior","rondo/index","spectrum/icon_form/index","modules/clean/rondo/components/tooltip/text_tooltip","modules/clean/rondo/components/members_picker/contacts_picker_behavior"],(function(e,t,a,i,l,r,s,n,o,c,d,m,f,u,p,g,v,h,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersCollapsedWidget=t.FiltersWidget=t.filterBehavior=t.FiltersCollapsed=t.FilterSummary=t.Filters=t.Participants=void 0,i=a.__importDefault(i),l=a.__importDefault(l),t.Participants={0:r.intl.formatMessage({id:"MiRE07",defaultMessage:"Any"}),1:r.intl.formatMessage({id:"XSYkSG",defaultMessage:"All on team"}),2:r.intl.formatMessage({id:"gZOe2G",defaultMessage:"External participants"})};var y=(function(e){function l(){var t=null!==e&&e.apply(this,arguments)||this;return t.reset=function(){t.props.actionClearFilters()},t}return a.__extends(l,e),l.prototype.createButtonItem=function(e){return i.default.createElement(h.TextTooltip,{className:"participants-button",text:e})},l.prototype.createParticipantsItems=function(){var e=this;return[m.InvolveNoneTeamMembers.DEFAULT,m.InvolveNoneTeamMembers.NO,m.InvolveNoneTeamMembers.YES].map((function(a){return{value:a,item:t.Participants[a],selected:e.props.participants.fieldValue===a,buttonItem:e.createButtonItem(t.Participants[a])}}))},l.prototype.createPart=function(){return i.default.createElement(i.default.Fragment,null,i.default.createElement("label",{htmlFor:"participants_input",className:"participants-lable"},r.intl.formatMessage({id:"zVbgg5",defaultMessage:"Participants"})),i.default.createElement(d.Tooltip,{tooltipContent:r.intl.formatMessage({id:"x19v9w",defaultMessage:"Participants are any of the people involved in the activity"}),forceSingleLine:!1},i.default.createElement(n.IconInline,{name:"info",className:"participants-tooltip"})),i.default.createElement(s.DropdownMenu,a.__assign({id:"participants_input",className:"participants-dropdown",dropDownItems:this.createParticipantsItems()},this.props.participants)))},l.prototype.getFilterRows=function(e){void 0===e&&(e=!0);var t=[];return t.push(i.default.createElement("div",{className:"filters-row"},i.default.createElement("label",{htmlFor:"date_from_input"},r.intl.formatMessage({id:"xl6krg",defaultMessage:"Date range"})),i.default.createElement(s.LocalizedDatePickerRondoRange,{className:"filter date",middleContent:i.default.createElement("div",{className:"date-to-separator"},r.intl.formatMessage({id:"Q3Sq7i",defaultMessage:"to"})),renderTimeOfDay:!0,dropDownItems:s.TIME_LIST_FOR_DATEPICKER,actionFieldChange:this.props.date.actionFieldChange,fieldValue:this.props.date.fieldValue}))),t.push(i.default.createElement("div",{className:"filters-row"},i.default.createElement("label",{htmlFor:"member_input"},r.intl.formatMessage({id:"s3VU9p",defaultMessage:"People"})),i.default.createElement(o.MembersPickerComponent,a.__assign({},this.props.members,{className:"filter",parseTokenObject:M.parseTokenObject})),e&&this.createPart())),t.push(i.default.createElement("div",{className:"filters-row"},i.default.createElement("label",{htmlFor:"file_folder_input"},r.intl.formatMessage({id:"T5vgV/",defaultMessage:"Content"})),i.default.createElement(s.Input,{id:"file_folder_input",className:"filter file",placeholder:r.intl.formatMessage({id:"2B50nF",defaultMessage:"Name of file, folder, Paper doc, or showcase"}),debounceSec:300,actionFieldChange:this.props.file.actionFieldChange,fieldValue:this.props.file.fieldValue,valid:this.props.file.valid,dirty:this.props.file.dirty,actionFieldSet:this.props.file.actionFieldSet}))),t.push(i.default.createElement("div",{className:"filters-row"},i.default.createElement("label",{htmlFor:"activity_input"},r.intl.formatMessage({id:"5Y9/iJ",defaultMessage:"Activities"})),i.default.createElement(f.ActivityPickerWidget,a.__assign({className:"filter activity mc-input"},this.props.activity)))),t},l.prototype.render=function(){return i.default.createElement("div",{className:"filters-header"},i.default.createElement("div",{className:"filters"},this.getFilterRows()),i.default.createElement("div",{className:"filters-control"},i.default.createElement(c.TertiaryLink,{className:"clear-filters",onClick:this.reset},r.intl.formatMessage({id:"QSImcV",defaultMessage:"Clear filters"}))))},l})(i.default.Component);t.Filters=y;var E=function(){window.scrollTo(0,0)},_=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reset=function(){E(),t.props.onReset()},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.name,a=e.count,r=e.className,s=void 0===r?"filter-count":r;return i.default.createElement("div",{className:l.default("filter-count",s)},i.default.createElement("div",{className:"filter-name"},t),a&&i.default.createElement("div",{className:"count"},a),i.default.createElement(v.IconForm,{onClick:this.reset,name:"cancel",className:"filter-cancel"}))},t})(i.default.Component);t.FilterSummary=_;var N=(function(e){function l(){var t=null!==e&&e.apply(this,arguments)||this;return t.reset=function(){t.props.actionClearFilters(),E()},t}return a.__extends(l,e),l.prototype.render=function(){var e=this.props,a=e.date,l=e.members,s=e.file,n=e.activity,o=e.teams,d=e.participants,m=a.dirty||l.dirty||s.dirty||n.dirty||d&&d.dirty||o&&o.fieldValue.length>0;return i.default.createElement("div",{className:"filters-header"},i.default.createElement("div",{className:"filters-control summary"},i.default.createElement("div",{className:"filters-summary"},i.default.createElement("div",{className:"filters-summary-label"},r.intl.formatMessage({id:"luV4IR",defaultMessage:"Filters"}),": (",i.default.createElement(c.TertiaryLink,{onClick:E},r.intl.formatMessage({id:"2ciDqQ",defaultMessage:"Back to top"})),")"),!m&&i.default.createElement("div",{className:"no-filters"},r.intl.formatMessage({id:"+gFolJ",defaultMessage:"No filters added"})),a.dirty&&i.default.createElement(_,{className:"date",name:r.intl.formatMessage({id:"65pLwc",defaultMessage:"Date"}),onReset:a.actionClear}),l.dirty&&i.default.createElement(_,{className:"member",name:r.intl.formatMessage({id:"s3VU9p",defaultMessage:"People"}),count:l.fieldValue.length,onReset:l.actionClear}),o.fieldValue.length>0&&i.default.createElement(_,{className:"member",name:r.intl.formatMessage({id:"IYiHJp",defaultMessage:"Team"}),count:o.fieldValue.length,onReset:o.actionClear}),s.dirty&&i.default.createElement(_,{className:"file",name:r.intl.formatMessage({id:"W24U0i",defaultMessage:"File or folder"}),onReset:s.actionClear}),n.dirty&&i.default.createElement(_,{className:"activity",name:r.intl.formatMessage({id:"gcDZFf",defaultMessage:"Activity"}),count:n.fieldValue.length,onReset:n.actionClear}),d&&d.dirty&&i.default.createElement(_,{className:"participants",name:t.Participants[d.fieldValue],onReset:d.actionClear})),i.default.createElement(c.TertiaryLink,{onClick:this.reset},r.intl.formatMessage({id:"QSImcV",defaultMessage:"Clear filters"}))))},l})(i.default.Component);t.FiltersCollapsed=N,t.filterBehavior=g.createBehavior(p.FiltersBehavior,{slicePath:"filters"}),t.FiltersWidget=u.widget(t.filterBehavior,y),t.FiltersCollapsedWidget=u.widget(t.filterBehavior,N)}));
//# sourceMappingURL=filters.min.js-vflO8V7xl.map